---
const { href, class: className, ...props } = Astro.props;
let isActive;

if (href === "/") {
  isActive = Astro.url.pathname === href;
} else {
  isActive = Astro.url.pathname.startsWith(href);
}
---

<a
  href={href}
  aria-current={isActive ? "page" : undefined}
  class:list={[
    "inline-block transition-colors text-neutral-600 dark:text-neutral-300 hover:text-neutral-900 dark:hover:text-neutral-100 focus:outline-none focus-visible:ring-2 focus-visible:ring-neutral-400 dark:focus-visible:ring-neutral-500 rounded-sm",
    isActive && "font-semibold underline underline-offset-4 decoration-2",
    className,
  ]}
  {...props}
>
  <slot />
</a>
